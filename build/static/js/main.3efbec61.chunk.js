(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(14),c=n.n(r),l=n(4),u=n(2),i=function(e){var t=e.note,n=e.toggleImportance,o=t.important?"remove important mark":"mark as important";return a.a.createElement("li",null,t.content,a.a.createElement("button",{onClick:n},o))},m=n(3),s=n.n(m),f="https://glacial-retreat-53406.herokuapp.com/api/notes",p=function(){var e=s.a.get(f),t={id:1e4,content:"This note is not saved to server",date:"2019-05-30T17:30:31.098Z",important:!0};return e.then((function(e){return e.data.concat(t)}))},d=function(e){return s.a.post(f,e).then((function(e){return e.data}))},h=function(e,t){return s.a.patch("".concat(f,"/").concat(e),t).then((function(e){return e.data}))},g=function(e){var t=Object(o.useState)([]),n=Object(u.a)(t,2),r=n[0],c=n[1],m=Object(o.useState)("new note 1"),s=Object(u.a)(m,2),f=s[0],g=s[1],b=Object(o.useState)(!0),E=Object(u.a)(b,2),v=E[0],j=E[1],O=Object(o.useState)(null),k=Object(u.a)(O,2),S=k[0],w=k[1];Object(o.useEffect)((function(){console.log("effect");var e=p();console.log("test",e),e.then((function(e){console.log("promise fullfilled"),c(e)}))}),[]),console.log("render",r.length,"notes");var y=v?r:r.filter((function(e){return e.important})),N=function(e){return null===e.message?null:a.a.createElement("div",{className:"error"},S)},T=function(e){return a.a.createElement("div",{style:{color:"green",fontStyle:"italic",fontSize:15}},a.a.createElement("br",null),a.a.createElement("em",null,"Footer hehee"))};return a.a.createElement("div",null,a.a.createElement("h1",null,"Notes"),a.a.createElement("div",null,a.a.createElement(N,{message:S}),a.a.createElement("button",{onClick:function(){return j(!v)}},"Show ",v?"important":"all"," Notes")),a.a.createElement("ul",null,y.map((function(e){return a.a.createElement(i,{key:e.id,note:e,toggleImportance:function(){return function(e){var t=r.find((function(t){return t.id===e})),n=Object(l.a)(Object(l.a)({},t),{},{important:!t.important});h(e,n).then((function(t){console.log("changed note",t),c(r.map((function(n){return n.id===e?t:n})))})).catch((function(n){w("The note ".concat(t.content," cannot be found on the server")),setTimeout((function(){w(null)}),5e3),c(r.filter((function(t){return t.id!==e})))})),console.log("importance of ".concat(e," will be toggled"))}(e.id)}})}))),a.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={date:new Date,important:Math.random()<.5,content:f};d(t).then((function(e){console.log(e),c(r.concat(e)),g("")}))}},a.a.createElement("input",{onChange:function(e){console.log("handnlenote"),console.log("handlenotechange",e),g(e.target.value)},value:f}),a.a.createElement("button",{type:"submit"},"add Note")),a.a.createElement(T,null))};n(37);c.a.render(a.a.createElement(g,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.3efbec61.chunk.js.map